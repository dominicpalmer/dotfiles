{
  // Fonts
  "editor.fontFamily": "Cascadia Code",
  "editor.fontSize": 15,
  "terminal.integrated.fontFamily": "Cascadia Code",
  "terminal.integrated.fontSize": 15,

  // Characters: autodetect indentations else use spaces, use LF
  "editor.tabSize": 2,
  "diffEditor.ignoreTrimWhitespace": false,
  "files.eol": "\n",

  // Scrolling: hide the default scrollbar, use minimap, scrolloff = 8
  "editor.minimap.maxColumn": 75,
  "editor.minimap.showSlider": "always",
  "editor.scrollbar.vertical": "hidden",
  "editor.scrollbar.verticalScrollbarSize": 0,
  "editor.cursorSurroundingLines": 8,

  // Intellisense: no lag, autoselect the first suggestion, use tab completion
  "editor.quickSuggestions": {
    "comments": "off",
    "strings": "off"
  },
  "editor.quickSuggestionsDelay": 0,
  "editor.suggestSelection": "first",
  "editor.acceptSuggestionOnEnter": "off",
  "editor.tabCompletion": "on",
  "emmet.showExpandedAbbreviation": "never",

  // File tree UI: wider indents and better guidelines
  "workbench.iconTheme": "vscode-icons",
  "workbench.tree.indent": 12,
  "workbench.tree.renderIndentGuides": "always",

  // File tree functionality: show buttons, expand folders, don't list editors
  "workbench.view.alwaysShowHeaderActions": true,
  "explorer.confirmDragAndDrop": false,
  "explorer.compactFolders": false,
  "explorer.incrementalNaming": "smart",
  "explorer.openEditors.visible": 0,

  // Search: less lag, smart case matching
  "search.searchOnTypeDebouncePeriod": 0,
  "search.smartCase": true,
  "search.useGlobalIgnoreFiles": true,

  // Tasks: autodetect common formats
  "grunt.autoDetect": "on",
  "gulp.autoDetect": "on",
  "jake.autoDetect": "on",

  // Zen mode: retain notifications, status and activity bars
  "zenMode.silentNotifications": false,
  "zenMode.hideStatusBar": false,
  "zenMode.hideActivityBar": false,

  // General UI
  "workbench.panel.defaultLocation": "right",
  "window.menuBarVisibility": "hidden",
  "window.titleSeparator": " | ",
  "editor.rulers": [80, 100, 120],
  "[Log]": { "editor.wordWrap": "on" },
  "breadcrumbs.icons": false,

  // General functionality
  "workbench.startupEditor": "none",
  "workbench.editor.untitled.hint": "hidden",
  "workbench.editor.openPositioning": "last",
  "workbench.editor.highlightModifiedTabs": true,
  "workbench.layoutControl.enabled": false,
  "workbench.commandPalette.history": 500,
  "workbench.settings.editor": "json",
  "telemetry.telemetryLevel": "off",
  "security.workspace.trust.enabled": false,
  "security.workspace.trust.startupPrompt": "never",

  // JSON
  "json.format.enable": false,

  // Markdown
  "markdownlint.config": {
    "MD012": false,
    "MD022": false,
    "MD032": false,
    "MD033": false,
    "MD041": false
  },

  // JavaScript
  "[javascript]": {
    "editor.codeActionsOnSave": {
      "source.fixAll.eslint": true,
      "source.organizeImports": true,
    },
    "editor.formatOnSave": true,
    "editor.formatOnType": true,
    "editor.defaultFormatter": "vscode.typescript-language-features",
  },
  "javascript.referencesCodeLens.enabled": true,

  // TypeScript
  "[typescript]": {
    "editor.codeActionsOnSave": {
      "source.fixAll.eslint": true,
      "source.organizeImports": true,
    },
    "editor.formatOnSave": true,
    "editor.formatOnType": true,
    "editor.defaultFormatter": "vscode.typescript-language-features",
  },
  "typescript.referencesCodeLens.enabled": true,
  "typescript.implementationsCodeLens.enabled": true,

  // Python
  "[python]": {
    "editor.formatOnSave": true,
    "editor.tabSize": 4
  },
  "python.languageServer": "Pylance",

  // C and C++
  "[cpp]": {
    "editor.formatOnSave": true,
    "editor.formatOnType": true,
    "editor.tabSize": 2
  },
  "C_Cpp.default.includePath": [],
  "C_Cpp.clang_format_path": "",

  // PowerShell
  "powershell.integratedConsole.focusConsoleOnExecute": false,
  "powershell.integratedConsole.showOnStartup": false,


  // Gitlens
  "gitlens.statusBar.alignment": "left",
  "gitlens.hovers.currentLine.enabled": false,
  "gitlens.currentLine.enabled": false,
  "gitlens.codeLens.scopes": [
    "document",
    "containers",
    "blocks"
  ],
  "gitlens.menus": {
    "editorGroup": false,
  },

  // Visual Studio Intellicode
  "vsintellicode.modify.editor.suggestSelection": "automaticallyOverrodeDefaultValue",

  // Trailing Spaces
  "trailing-spaces.highlightCurrentLine": false,
  "trailing-spaces.trimOnSave": true,

  // YAML support
  "redhat.telemetry.enabled": false,

  // GlassIt - transparent background
  "glassit.alpha": 246,

  // Vim
  "vim.vimrc.enable": true,
  "vim.vimrc.path": "~/root/dotfiles/common/vscode/.vscodevimrc",
  "vim.cursorStylePerMode.insert": "line",
  "vim.useSystemClipboard": true,
  "vim.hlsearch": true,
  "vim.highlightedyank.enable": true,
  "vim.leader": " ",
  "keyboard.dispatch": "keyCode",

  // Ideally, all keybindings would be in .vscodevimrc. But unlike Visual Studio
  // and Rider, there's no way to define keybindings for VSCode's native commands
  // from within a .vimrc config file. Keybindings below are those which make use
  // of VSCode's native commands.
  "vim.normalModeKeyBindingsNonRecursive": [
    // ---- COMMON

    // Code navigation
    { "before": ["g", "p"], "commands": ["editor.action.peekDefinition"] },
    { "before": ["g", "o"], "commands": ["editor.action.revealDefinition"] },
    { "before": ["g", "i"], "commands": ["editor.action.goToImplementation"] },
    { "before": ["g", "u"], "commands": ["editor.action.goToReferences"] },
    { "before": ["<leader>", "f"], "commands": ["workbench.action.findInFiles"] },
    { "before": ["<leader>", "o"], "commands": ["workbench.action.quickOpen"] },
    { "before": ["<leader>", ";"], "commands": ["workbench.action.showCommands"] },

    // Code editing
    { "before": ["<leader>", "/"], "commands": ["editor.action.commentLine"] },
    { "before": ["<leader>", "n"], "commands": ["workbench.action.files.newUntitledFile"] },
    { "before": ["<leader>", "r"], "commands": ["editor.action.rename"], "when": ["editorHasRenameProvider && editorTextFocus && !editorReadonly"] },

    // Editor windows, tabs, panels
    { "before": ["g", "j"], "commands": ["workbench.action.toggleSidebarVisibility"] },
    { "before": ["g", "k"], "commands": ["workbench.action.togglePanel"] },
    { "before": ["<leader>", "h"], "commands": ["workbench.action.navigateLeft"] },
    { "before": ["<leader>", "j"], "commands": ["workbench.action.navigateDown"] },
    { "before": ["<leader>", "k"], "commands": ["workbench.action.navigateUp"] },
    { "before": ["<leader>", "l"], "commands": ["workbench.action.navigateRight"] },
    { "before": ["<leader>", "v"], "commands": ["workbench.action.splitEditor"] },
    { "before": ["<leader>", "c"], "commands": ["workbench.action.splitEditorOrthogonal"] },
    { "before": ["<leader>", "p"], "commands": ["workbench.action.pinEditor"] },
    { "before": ["<leader>", "u"], "commands": ["workbench.action.unpinEditor"] },
    { "before": ["<leader>", "1"], "commands": ["workbench.action.openEditorAtIndex1"] },
    { "before": ["<leader>", "2"], "commands": ["workbench.action.openEditorAtIndex2"] },
    { "before": ["<leader>", "3"], "commands": ["workbench.action.openEditorAtIndex3"] },
    { "before": ["<leader>", "4"], "commands": ["workbench.action.openEditorAtIndex4"] },
    { "before": ["<leader>", "5"], "commands": ["workbench.action.openEditorAtIndex5"] },
    { "before": ["<leader>", "6"], "commands": ["workbench.action.openEditorAtIndex6"] },
    { "before": ["<leader>", "7"], "commands": ["workbench.action.openEditorAtIndex7"] },
    { "before": ["<leader>", "8"], "commands": ["workbench.action.openEditorAtIndex8"] },
    { "before": ["<leader>", "9"], "commands": ["workbench.action.openEditorAtIndex9"] },

    // Extensions
    { "before": ["<leader>", "b"], "commands": ["gitlens.toggleLineBlame"] },
    { "before": ["<leader>", "g"], "commands": ["git-graph.view"] },

    // ---- NORMAL MODE

    // Use VSCode's undo stack. These keybindings don't work from within .vscodevimrc.
    { "before": ["U"], "after": ["<C-r>"] },
    { "before": ["<C-y>"], "after": ["<C-r>"] },

    // Line insertion
    { "before": ["<CR>"], "commands": ["editor.action.insertLineAfter"] },
    { "before": ["<leader>", "<CR>"], "commands": ["editor.action.insertLineBefore"] },

    // Navigate errors
    { "before": ["<leader>", "i"], "commands": ["editor.action.marker.nextInFiles"] },
    { "before": ["<leader>", "y"], "commands": ["editor.action.marker.prevInFiles"] },

    // Replace the word under the cursor, without first having to visual select it
    { "before": ["g", "h"], "commands": [ "editor.action.addSelectionToNextFindMatch", "editor.action.startFindReplaceAction" ] },
    { "before": ["<leader>", "g", "h"], "commands": [ "editor.action.addSelectionToNextFindMatch", "workbench.action.replaceInFiles" ] },
  ],

  "vim.visualModeKeyBindingsNonRecursive": [
    // ---- COMMON

    // Code navigation
    { "before": ["g", "p"], "commands": ["editor.action.peekDefinition"] },
    { "before": ["g", "o"], "commands": ["editor.action.revealDefinition"] },
    { "before": ["g", "i"], "commands": ["editor.action.goToImplementation"] },
    { "before": ["g", "u"], "commands": ["editor.action.goToReferences"] },
    { "before": ["<leader>", "f"], "commands": ["workbench.action.findInFiles"] },
    { "before": ["<leader>", "o"], "commands": ["workbench.action.quickOpen"] },
    { "before": ["<leader>", ";"], "commands": ["workbench.action.showCommands"] },

    // Code editing
    { "before": ["<leader>", "/"], "commands": ["editor.action.commentLine"] },
    { "before": ["<leader>", "n"], "commands": ["workbench.action.files.newUntitledFile"] },
    { "before": ["<leader>", "r"], "commands": ["editor.action.rename"], "when": ["editorHasRenameProvider && editorTextFocus && !editorReadonly"] },

    // Editor windows, tabs, panels
    { "before": ["g", "j"], "commands": ["workbench.action.toggleSidebarVisibility"] },
    { "before": ["g", "k"], "commands": ["workbench.action.togglePanel"] },
    { "before": ["<leader>", "h"], "commands": ["workbench.action.navigateLeft"] },
    { "before": ["<leader>", "j"], "commands": ["workbench.action.navigateDown"] },
    { "before": ["<leader>", "k"], "commands": ["workbench.action.navigateUp"] },
    { "before": ["<leader>", "l"], "commands": ["workbench.action.navigateRight"] },
    { "before": ["<leader>", "v"], "commands": ["workbench.action.splitEditor"] },
    { "before": ["<leader>", "c"], "commands": ["workbench.action.splitEditorOrthogonal"] },
    { "before": ["<leader>", "p"], "commands": ["workbench.action.pinEditor"] },
    { "before": ["<leader>", "u"], "commands": ["workbench.action.unpinEditor"] },
    { "before": ["<leader>", "1"], "commands": ["workbench.action.openEditorAtIndex1"] },
    { "before": ["<leader>", "2"], "commands": ["workbench.action.openEditorAtIndex2"] },
    { "before": ["<leader>", "3"], "commands": ["workbench.action.openEditorAtIndex3"] },
    { "before": ["<leader>", "4"], "commands": ["workbench.action.openEditorAtIndex4"] },
    { "before": ["<leader>", "5"], "commands": ["workbench.action.openEditorAtIndex5"] },
    { "before": ["<leader>", "6"], "commands": ["workbench.action.openEditorAtIndex6"] },
    { "before": ["<leader>", "7"], "commands": ["workbench.action.openEditorAtIndex7"] },
    { "before": ["<leader>", "8"], "commands": ["workbench.action.openEditorAtIndex8"] },
    { "before": ["<leader>", "9"], "commands": ["workbench.action.openEditorAtIndex9"] },

    // Extensions
    { "before": ["<leader>", "b"], "commands": ["gitlens.toggleLineBlame"] },

    // ---- VISUAL MODE

    // Paste over without storing the deleted content with ctrl+v
    { "before": ["<C-v>"], "commands": ["editor.action.clipboardPasteAction"] },

    // Movement by lines
    { "before": ["("], "commands": ["editor.action.moveLinesDownAction"] },
    { "before": [")"], "commands": ["editor.action.moveLinesUpAction"] },

    // No need to select the word under cursor before find and replace in visual mode
    { "before": ["g", "h"], "commands": ["editor.action.startFindReplaceAction"] },
    { "before": ["<leader>", "g", "h"], "commands": ["workbench.action.replaceInFiles"] },
  ],

  // Settings Sync
  "sync.gist": "",
  "window.zoomLevel": -0.5,
  "workbench.colorTheme": "Light++",
}
