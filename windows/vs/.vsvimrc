" ---- Settings

set scrolloff=8
set visualbell
set ignorecase
set smartcase
set timeoutlen=400
set whichwrap=<,>,h,l
set hlsearch
set clipboard=unnamed
set vsvim_hidemarks=<>[]^.'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ

" ---- Keybindings

let mapleader = " "

" Repeat with ;, place with , and delete to null with m and X
nnoremap ; .
nnoremap , r
noremap f "0x
nnoremap F 0"0D

" Search with ' and @
noremap ' /
noremap @ ?
noremap v' v/
noremap v@ v?

" Cursor movement
noremap H ^
noremap J }
noremap K {
noremap L $

" Copy paste
noremap t y
nnoremap T y$
nnoremap r p | :vsc Edit.FormatDocument<CR>
vnoremap r P | :vsc Edit.FormatDocument<CR>
noremap R P | :vsc Edit.FormatDocument<CR>

" Line and block shifting
noremap M J
vnoremap ( :vsc Edit.MoveSelectedLinesDown<CR>
vnoremap ) :vsc Edit.MoveSelectedLinesUp<CR>
nnoremap > mz>>'z
vnoremap > >gv
nnoremap < mz<<'z
vnoremap < <gv
nnoremap <CR> o<Esc>
nnoremap <S-CR> O<Esc>

" Undo, redo, search highlighting, static casing, visual block
vnoremap u <Esc>u
nnoremap U <C-r>
nnoremap <Esc> :nohl<CR>
nnoremap ~ ~h
noremap S <C-v>

" Sensible write and close
noremap <leader>w :w<CR>
noremap <leader><leader>w :wa<CR>
noremap <leader>q :q<CR>
noremap <leader><leader>q :qa<CR>

" Inner shortcuts (excludes ')
nnoremap c" ci"
nnoremap c( ci(
nnoremap c) ci)
nnoremap c{ ci{
nnoremap c} ci}
nnoremap c[ ci[
nnoremap c] ci]
nnoremap ct cit
nnoremap c< ci<
nnoremap c> ci>

nnoremap d" di"
nnoremap d( di(
nnoremap d) di)
nnoremap d{ di{
nnoremap d} di}
nnoremap d[ di[
nnoremap d] di]
nnoremap dt dit
nnoremap d< di<
nnoremap d> di>

nnoremap v" vi"
nnoremap v( vi(
nnoremap v) vi)
nnoremap v{ vi{
nnoremap v} vi}
nnoremap v[ vi[
nnoremap v] vi]
nnoremap vt vt
nnoremap v< v<
nnoremap v> v>

" Code navigation and modification
noremap gj :vsc Edit.GoToImplementation<CR>
noremap gk :vsc Edit.GoToDefinition<CR>
noremap gl :vsc Edit.FindAllReferences<CR>
noremap gn :vsc Edit.QuickInfo<CR>
noremap gu :vsc Edit.RemoveAndSort<CR>
noremap gi :vsc Edit.FormatDocument<CR>
nnoremap <leader>' :vsc Edit.ToggleComment<CR>
vnoremap <leader>' :vsc Edit.ToggleComment<CR> | <Esc><CR>
vnoremap <leader>s :vsc Edit.SurroundWith<CR>
vnoremap <leader>e :vsc Refactor.ExtractMethod<CR>
noremap <leader>r :vsc Refactor.Rename<CR>
noremap <leader>d :vsc SolutionExplorer.SyncWithActiveDocument<CR>

" Launchers
noremap <leader>; :vsc Window.QuickLaunch<CR>
noremap <leader>o :vsc Edit.GoToAll<CR>
noremap <leader>n :vsc Edit.FindInFiles<CR>
noremap <leader>m :vsc Edit.ReplaceInFiles<CR>
noremap gh :vsc Edit.Replace<CR>
noremap <leader>, :vsc ProjectandSolutionContextMenus.Project.Add.NewEmptyFile<CR>
noremap <C-,> :vsc Tools.Options<CR>

" Pageup/Pagedown, Forward/Back, NextError/PreviousError
nnoremap <M-j> :vsc Edit.PageDown<CR>
vnoremap <M-j> :vsc Edit.PageDownExtend<CR>
nnoremap <M-k> :vsc Edit.PageUp<CR>
vnoremap <M-k> :vsc Edit.PageUpExtend<CR>
noremap <M-i> :vsc View.NavigateForward<CR>
noremap <M-u> :vsc View.NavigateBackward<CR>
noremap <leader>i :vsc View.NextError<CR>
noremap <leader>u :vsc View.PreviousError<CR>

" Windows and tabs
noremap <leader>h <C-w>h
noremap <leader>j <C-w>j
noremap <leader>k <C-w>k
noremap <leader>l <C-w>l
noremap <leader>v :vsplit<CR>
noremap <leader>c :split<CR>
noremap <leader>p :vsc Window.PinTab<CR>
noremap <leader>1 :vsc Window.GoToUnpinnedTab1<CR>
noremap <leader>2 :vsc Window.GoToUnpinnedTab2<CR>
noremap <leader>3 :vsc Window.GoToUnpinnedTab3<CR>
noremap <leader>4 :vsc Window.GoToUnpinnedTab4<CR>
noremap <leader>5 :vsc Window.GoToUnpinnedTab5<CR>
noremap <leader>6 :vsc Window.GoToUnpinnedTab6<CR>
noremap <leader>7 :vsc Window.GoToUnpinnedTab7<CR>
noremap <leader>8 :vsc Window.GoToUnpinnedTab8<CR>
noremap <leader>9 :vsc Window.GoToUnpinnedTab9<CR>

" Reload configuration
noremap <leader><leader>r :so ~\.vsvimrc<CR>j

:echo ".vsvimrc loaded successfully"
